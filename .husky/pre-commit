#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ” Running ESLint..."
npm run lint
lint_exit_code=$?

if [ $lint_exit_code -ne 0 ]; then
  echo "âŒ ESLint failed, aborting commit."
  exit 1
fi

echo "âœ… ESLint passed. Running tests..."
npm test -- --bail --passWithNoTests
test_exit_code=$?

if [ $test_exit_code -ne 0 ]; then
  echo "âŒ Tests failed, aborting commit."
  exit 1
fi

echo "ğŸ‰ All checks passed! Commit successful."
